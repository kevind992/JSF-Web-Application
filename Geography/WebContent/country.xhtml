<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:f="http://xmlns.jcp.org/jsf/core">
  
  <h:head>
    <title>Countries</title>
    <h:outputStylesheet library="css" name="style.css"/>
    <f:metadata>
  		<f:event type="preRenderView" 
      	listener="#{countryController.getCountryInfo()}"/>
  	</f:metadata>
  </h:head>
  <h:body>
  	<h:messages globalOnly="true" styleClass="error"/>
  	<h:form>
	  	<h:commandButton value="Add Country" action="addCountry"/>
	  	<br/><br/>
	  	<h:dataTable value="#{countryController.countryArrayList}"  var="country"
		  	styleClass="table"
		  	headerClass="table-header"
		  	rowClasses="table-odd-row,table-even-row">
	  		<h:column>
		  		<f:facet name="header"> Country Code </f:facet>
		  		<h:outputText value="#{country.ctyCode}"/>
		  	</h:column>
		  	<h:column>
		  		<f:facet name="header"> Country Name </f:facet>
		  		<h:outputText value="#{country.ctyName}"/>
		  	</h:column>
		  	<h:column>
		  		<f:facet name="header">Country Details</f:facet>
		  		<h:outputText value="#{country.ctyDetails}" />
		  	</h:column>
		  	<h:column>
				<f:facet name="header"> Action </f:facet>
				<h:commandLink value="Delete" onclick="if(!confirm('You sure you wish to Delete?'))return false" 
				action="#{countryController.deleteCountryFROMDB(country)}" >
				</h:commandLink>
				<br/>
				<h:commandLink value="Update" action="#{countryController.takeUpdate(country)}"/>
			</h:column>
	  	</h:dataTable>
	  	<br/>
	  	<h:link value="Home" outcome="index"/>
  	</h:form>
  </h:body>
</html>
